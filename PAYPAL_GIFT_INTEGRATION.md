# PayPal Gift Integration для фанатов 🎁

## Обзор функции

В карточках дней рождения для фанатов теперь отображается секция "Отправить подарок" с интеграцией PayPal. Эта функция позволяет фанатам легко отправлять денежные подарки на дни рождения участников группы.

## Настройка для админов

### 1. Добавление PayPal адреса в админ-панели

Админы группы должны настроить PayPal адрес в настройках группы:

```swift
// В AdminPanel или GroupSettings
group.paypalAddress = "your.band@paypal.com"
```

### 2. Где отображается функция

- **Только** в событиях типа `.birthday`
- **Только** для пользователей типа `.fan`
- Отображается в `FanEventDetailView` как отдельная секция

### 3. Внешний вид для фанатов

```
┌─────────────────────────────────────┐
│ 🎁 Send a Gift                      │
├─────────────────────────────────────┤
│ Want to send a birthday gift?       │
│                                     │
│ PayPal Address:                     │
│ ┌─────────────────────────────────┐ │
│ │ your.band@paypal.com      📋    │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │  💳 Send Gift via PayPal        │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

### 4. Функциональность

1. **Копирование адреса**: Кнопка 📋 копирует PayPal адрес в буфер обмена
2. **Прямая ссылка**: Кнопка "Send Gift via PayPal" открывает PayPal с предзаполненной информацией
3. **Автоматическая заметка**: В PayPal автоматически добавляется заметка "Birthday gift for [Имя]"

### 5. Если PayPal адрес не настроен

Отображается предупреждение:
```
⚠️ Gift sending is currently unavailable
The band hasn't set up gift receiving yet.
```

## Техническая реализация

### Модель данных

```swift
struct GroupModel {
    // ... existing fields
    var paypalAddress: String? // Новое поле для PayPal адреса
}
```

### Локализация

Поддерживаются языки:
- 🇺🇸 English
- 🇺🇦 Українська  
- 🇩🇪 Deutsch

### Безопасность

- PayPal адрес настраивается только админами группы
- Фанаты не могут видеть или изменять PayPal настройки
- Используется официальный PayPal API для безопасных транзакций

## Инструкции для пользователей

### Для админов:
1. Перейдите в настройки группы
2. Найдите секцию "Fan Settings" 
3. Введите PayPal адрес для получения подарков
4. Сохраните изменения

### Для фанатов:
1. Откройте карточку дня рождения в календаре
2. Прокрутите до секции "Send a Gift"
3. Скопируйте PayPal адрес или нажмите кнопку прямого перехода
4. Отправьте подарок через PayPal

## Будущие улучшения

- [ ] Интеграция с PayPal SDK для встроенных платежей
- [ ] Настройка рекомендуемых сумм подарков
- [ ] История отправленных подарков
- [ ] Уведомления о полученных подарках
- [ ] Поддержка других платежных систем (Stripe, Venmo, etc.)

---

💡 **Примечание**: Эта функция доступна только для событий дня рождения и требует настройки PayPal адреса админом группы.
